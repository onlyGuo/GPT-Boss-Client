import{_ as h,r as k,a as d,c as r,b as a,w as l,E as A,o as p,I,d as _,e as v,t as x,f as i,g as U,h as E,i as C,p as g,j as w,k as f}from"./index-zs7C5oam.js";const y=c=>(g("data-v-8ad72cbc"),c=c(),w(),c),B={class:"uc"},N=y(()=>f("div",{style:{color:"#888888","font-size":"12px"}},"AccessKey是您的账号对外提供API调用的唯一凭据。请妥善保管。",-1)),S=y(()=>f("div",{style:{color:"#888888","font-size":"12px"}},"若您的AccessKey被泄露，请重新生成新的AccessKey。",-1)),z={key:0},F={key:1},T={__name:"UserCenter",setup(c){const e=k({});d.get("/api/v1/users/info").then(u=>{e.value=u});const b=()=>{d.put("/api/v1/users/accessKey").then(u=>{e.value.accessKey=u.accessKey,i.success("AccessKey已刷新")})},V=()=>{e.value.nickname||i.error("用户昵称不能为空"),d.put("/api/v1/users/info",e.value).then(u=>{i.success("保存成功")})};return(u,s)=>{const n=U,o=E,m=C,K=A;return p(),r("div",B,[a(K,{"label-width":"90"},{default:l(()=>[a(o,{label:"用户昵称"},{default:l(()=>[a(n,{placeholder:"请输入用户昵称",modelValue:e.value.nickname,"onUpdate:modelValue":s[0]||(s[0]=t=>e.value.nickname=t)},null,8,["modelValue"])]),_:1}),a(o,{label:"用户头像"},{default:l(()=>[a(I,{src:e.value.avatar,"onUpdate:src":s[1]||(s[1]=t=>e.value.avatar=t)},null,8,["src"])]),_:1}),a(o,{label:"用户名"},{default:l(()=>[a(n,{placeholder:"请输入用户名",disabled:"",modelValue:e.value.username,"onUpdate:modelValue":s[2]||(s[2]=t=>e.value.username=t)},null,8,["modelValue"])]),_:1}),a(o,{label:"用户邮箱"},{default:l(()=>[a(n,{placeholder:"请输入用户邮箱",disabled:"",modelValue:e.value.email,"onUpdate:modelValue":s[3]||(s[3]=t=>e.value.email=t)},null,8,["modelValue"])]),_:1}),a(o,{label:"AccessKey"},{default:l(()=>[a(n,{placeholder:"点击生成AccessKey",disabled:"",modelValue:e.value.accessKey,"onUpdate:modelValue":s[4]||(s[4]=t=>e.value.accessKey=t)},{append:l(()=>[a(m,{onClick:b},{default:l(()=>[_("生成/重建 AccessKey")]),_:1})]),_:1},8,["modelValue"]),N,S]),_:1}),a(o,{label:"用户状态"},{default:l(()=>[e.value.status===0?(p(),r("span",z,"正常")):v("",!0),e.value.status===-1?(p(),r("span",F,"暂停发言(截止至:"+x(e.value.prohibitTime)+")",1)):v("",!0)]),_:1}),a(m,{style:{width:"100%"},type:"primary",onClick:V},{default:l(()=>[_("保存")]),_:1})]),_:1})])}}},D=h(T,[["__scopeId","data-v-8ad72cbc"]]);export{D as default};
